<div class="concierto-form-container">
  <div class="header">
    <h1>{{ isEditing ? 'Editar Concierto' : 'Crear Nuevo Concierto' }}</h1>
    <button class="btn-back" (click)="onCancel()">
      ← Volver a Conciertos
    </button>
  </div>

  <form [formGroup]="conciertoForm" (ngSubmit)="onSubmit()" class="concierto-form">
    
    <div class="form-group">
      <label for="nombre">Nombre del Concierto *</label>
      <input 
        type="text" 
        id="nombre" 
        formControlName="nombre"
        class="form-control"
        [class.error]="f['nombre'].invalid && f['nombre'].touched">
      <div class="error-message" *ngIf="f['nombre'].invalid && f['nombre'].touched">
        <span *ngIf="f['nombre'].errors?.['required']">El nombre es requerido</span>
        <span *ngIf="f['nombre'].errors?.['minlength']">Mínimo 3 caracteres</span>
      </div>
    </div>

    <div class="form-group">
      <label for="fecha">Fecha *</label>
      <input 
        type="date" 
        id="fecha" 
        formControlName="fecha"
        class="form-control"
        [class.error]="f['fecha'].invalid && f['fecha'].touched">
      <div class="error-message" *ngIf="f['fecha'].invalid && f['fecha'].touched">
        La fecha es requerida
      </div>
    </div>

    <div class="form-group">
      <label for="lugar">Lugar *</label>
      <input 
        type="text" 
        id="lugar" 
        formControlName="lugar"
        class="form-control"
        [class.error]="f['lugar'].invalid && f['lugar'].touched">
      <div class="error-message" *ngIf="f['lugar'].invalid && f['lugar'].touched">
        El lugar es requerido
      </div>
    </div>

    <div class="form-group">
      <label for="precio">Precio (€) *</label>
      <input 
        type="number" 
        id="precio" 
        formControlName="precio"
        class="form-control"
        min="0"
        step="0.01"
        [class.error]="f['precio'].invalid && f['precio'].touched">
      <div class="error-message" *ngIf="f['precio'].invalid && f['precio'].touched">
        <span *ngIf="f['precio'].errors?.['required']">El precio es requerido</span>
        <span *ngIf="f['precio'].errors?.['min']">El precio debe ser positivo</span>
      </div>
    </div>

    <div class="form-group">
      <label for="descripcion">Descripción</label>
      <textarea 
        id="descripcion" 
        formControlName="descripcion"
        class="form-control"
        rows="4"
        placeholder="Describe el concierto..."></textarea>
    </div>

    <div class="form-group">
      <label for="imagen">URL de la Imagen</label>
      <input 
        type="url" 
        id="imagen" 
        formControlName="imagen"
        class="form-control"
        placeholder="https://ejemplo.com/imagen.jpg">
    </div>

    <div class="form-actions">
      <button type="button" class="btn btn-secondary" (click)="onCancel()">
        Cancelar
      </button>
      <button type="submit" class="btn btn-primary" [disabled]="conciertoForm.invalid">
        {{ isEditing ? 'Actualizar' : 'Crear' }} Concierto
      </button>
    </div>
  </form>
</div>